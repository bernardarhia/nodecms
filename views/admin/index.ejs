<%-include('../layouts/admin_header.ejs')%>

<h1>All Posts</h1>
<% allPosts.forEach(function(post){ %>
<table class="table table-bordered">
<thead>
  <tr>
  <th>Id</th>
  <th>Title</th>
  <th>Status</th>
  <th>Allow Comments</th>
</tr>
</thead>
<tbody>
  <tr>
     <td><%=post.id%></td>
     <td><%=post.title%></td>
     <td><%=post.status%></td>
     <td><%=post.allowComments%></td>
     <td> <a class="btn btn-primary" href="/admin/posts/edit/<%=post.id%>">Edit Post </a></td>
     <td> 
       <form action="/admin/posts/delete/<%=post._id%>?_method=DELETE" method="POST">
      <button type="submit" onclick="return confirm('Are you sure you want to delete this post ?')" class="btn btn-danger">Delete Post</button>
      </form>
     </td>

  </tr>

</tbody>
</table>

<% }) %>
<form action="/admin/posts/clear?_method=DELETE" method="POST">
  <button type="submit" class="btn btn-danger" onclick="return confirm('Are You Sure You Want To Delete All Posts?')">
    Delete All Posts
  </button>
</form>
<%-include('../layouts/admin_footer.ejs')%>
